<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">
    <link rel="stylesheet" href="css/site.css">
    <script src="https://unpkg.com/vue@next"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>

    <title>Mini-captone-js</title>
</head>

<body class="container">

    <div id="app">
        <ul class="nav nav-tabs">
            <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="index.html">Active</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="stats.html">Stats</a>
            </li>
        </ul>
        <div>
            <label for="charName">Character Name: </label>
            <input class="ms-1" type="text" id="charName" v-model="charName">
            <label for="charLevel">Character Level: </label>
            <input class="ms-1" type="number" id="charLevel" v-model="charLvl">
        </div>
        <div class="row">
            <div class="row">
                <div class="col-3">
                    <label for="raceSelection">Select Race</label>
                    <select class="form-select" v-model="raceSelection" @change="getSubRace" name="" id="raceSelection">
                        <option v-for="race in races">{{race.name}}</option>
                    </select>
                </div>
                <div class="col-3" v-if="subRaces">
                    <label for="subraceSelection">Select Subrace</label>
                    <select class="form-select" v-model="subraceSelection" name="" id="subraceSelection">
                        <option v-for="subRace in subRaces">{{subRace.name}}</option>
                    </select>
                </div>
                <div class="col-3" v-else-if="dragonAncestory">
                    <label for="subraceSelection">Select Dragon Ancestory</label>
                    <select class="form-select" v-model="subraceSelection" name="" id="subraceSelection">
                        <option v-for="dragon in dragonAncestory">{{dragon.name}}</option>
                    </select>
                </div>
                <div class="col-3">
                    <label for="classSelection">Select Class</label>
                    <select class="form-select" v-model="classSelection"
                        @change="getSubClass(); getProficiencyChoices(); getSpellsKnown()" name="" id="">
                        <option v-for="clas in classes">{{clas.name}}</option>
                    </select>
                </div>
                <div class="col-3">
                    <label for="subclassSelection">Select SubClass</label>
                    <select class="form-select" v-model="subclassSelection" name="" id="">
                        <option v-for="subClass in subClasses" value="subClass">{{subClass.name}}</option>
                    </select>
                </div>
            </div>
        </div>

        <div>
            <label for="alignmentSelection">Select Alignment</label>
            <select class="form-select" v-model="alignmentSelection">
                <option v-for="alignment in alignments" value="alignment">{{alignment.name}}</option>
            </select>
        </div>

        <div class="row text-center">
            <span v-for="stat in stats" class="col-2">{{stat.name}}</span>
            <span v-for="stat in stats" class="col-2">
                <input @change="setStats(stat)" v-model="stat.value" type="number" name="" id="">
            </span>
        </div>

        <div>
            <p v-if="proficiencyChoices">Select {{amountOfProficiencies}} Proficiencies</p>
            <span v-for="proficiency in proficiencyChoices">
                <input class="mx-2" @change="setProficiencyChoices(proficiency)" type="checkbox"
                    v-bind:value="proficiency.name.substr(7)" v-model="chosenProficiencies"
                    v-bind:disabled="chosenProficiencies.length === amountOfProficiencies && chosenProficiencies.indexOf(proficiency.name.substr(7)) == -1">
                <label for="proficiency.name">{{proficiency.name.substr(7)}}</label>
            </span>
        </div>

        <div class="text-center">
            <button @click="createCharacter">Create Character</button>
        </div>
        <div class="col">
            <input type="text" v-model="spell">
        </div>
        <div class="col">
            <button @click="findSpell">Find</button>
        </div>
        <div v-if="spellDesc">
            {{spellDesc}}
        </div>

        <div v-if="spellsKnownAtlvl">
            <p>Spells at character level</p>

            <p v-for="spell in spellsKnownAtlvl">{{spell.name}}</p>
            <hr>
            <p v-for="spel in spellsKnown">{{spel.name}}</p>
            <hr>
            <p v-for="spelll in spellsAtCharLvl">{{spel.name}}</p>
        </div>
    </div>
    </div>

    <script src="js/site.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ"
        crossorigin="anonymous"></script>
</body>

</html>